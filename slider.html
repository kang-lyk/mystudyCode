<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<title>幻灯</title>
<style>
*{ padding: 0; margin: 0;}
ul,li,ol,dl,dt,dd {list-style: none;}
.slider,.slider-inner li {
	width: 500px;
	height: 350px;
	overflow: hidden;
}
.slider {
	position: relative;
}
.slider-inner li {
	float: left;
}
.slider-pre,.slider-next {
	position: absolute;
	top: 62px;
	background-color: rgba(0,0,0,.5);
	width: 50px;
	height: 67px;
}
.slider-pre {left: 0;}
.slider-next {right: 0;}
</style>
</head>
<body>

<div class="slider" data-options='{
	"auto":"true",
	"speed":"500",
	"interval":"800"
}'>
	<ul class="slider-inner j-sBox">
		<li class="j-sItem">
			<img src="http://www.atool.org/placeholder.png?size=500x200&text=半神半圣亦半仙&bg=795548&fg=fff" alt="">
		</li>
		<li class="j-sItem">
			<img src="http://www.atool.org/placeholder.png?size=500x200&text=全儒全道是全贤&bg=795548&fg=fff" alt="">
		</li>
		<li class="j-sItem">
			<img src="http://www.atool.org/placeholder.png?size=500x200&text=脑中之书藏开卷&bg=795548&fg=fff" alt="">
		</li>
		<li class="j-sItem">
			<img src="http://www.atool.org/placeholder.png?size=500x200&text=掌握文武半边天&bg=795548&fg=fff" alt="">
		</li>
	</ul>
	<div class="slider-pre j-sPre"></div>
	<div class="slider-next j-sNext"></div>
</div>

<script>
;(function(win,doc){
	// 
	function slider(){
		this.options = {
			auto:true,
			speed:300,
			interval:600,
			domMain:'.j-sBox',
			domLeft:'.j-sPre',
			domRight:'j-sNext',
			showItem:true
		};
				
	};
	// 合并对象
	slider.prototype.extend = function(){
		var arr = Array.prototype.slice.call(arguments),
			newObj = {},
			arrLength = arr.length,
			resultObj = arr[0];
		for (var i = 1; i < arrLength; i++) {
			var obj = arr[i];
			for (var x in obj) {
				newObj[x] = obj[x];
			};
		};
		for (var x in newObj) {
			resultObj[x] = newObj[x];
		};		
		return resultObj;
	};
	// 设置
	slider.prototype.setDefault = function(options){
		var defaultOptions = this.options;
		return this.extend(defaultOptions,options);
	};
	// 取得新的参数
	slider.prototype.getOptions = function(dataOptions,options){
		var defaultOptions = this.options,
			newDataOptions = {};
		try {
			newDataOptions = JSON.parse(dataOptions);
		}catch(error){
			throw '请检查json字符串是否正确或浏览器是否支持JSON.parse';
		};
		return this.extend({},defaultOptions,options,newDataOptions);
	};
	// 开始运行幻灯
	slider.prototype.init = function(dom,options){
		var options = options || {};
		var newOptions = this.getOptions(dom.getAttribute('data-options'),options);
		console.log(this.options,newOptions);
	};

	win.slider = slider;

	var focus = new slider();

	focus.setDefault({
		auto:false,
		speed:100,
		interval:100,		
		showItem:false
	});

	focus.init(document.querySelector('.slider')); 

	/*var obj0 = {},obj1 = {a:1},obj2 = {},obj3 = {a:10,b:2};
	console.log(focus.extend(obj0,obj1,obj2,obj3),obj0,obj1,obj2,obj3);*/

})(window,document);
</script>
</body>
</html>
